# Android Sync Configuration
# Copy this file to ~/.config/android-sync/config.toml

[general]
# Backblaze B2 bucket name
bucket = "my-backup-bucket"

# Path to GPG-encrypted secrets file (default: ~/.local/share/android-sync/secrets.gpg)
# The secrets file is device-specific and cannot be decrypted on other devices.
# secrets_file = "/custom/path/secrets.gpg"

# Directory for log files
log_dir = "/data/data/com.termux/files/home/logs/android-sync"

# Days to keep log files (0 to disable cleanup)
log_retention_days = 7

# Number of parallel transfers (default: 4)
transfers = 4

# Maximum hours a job can run before being considered stale (default: 24)
# If a scheduled job exceeds this timeout, it will be killed
stale_job_timeout_hours = 24

# Sync profiles define what to backup and where
[profiles.photos]
sources = [
    "/storage/emulated/0/DCIM/Camera",
    "/storage/emulated/0/Pictures",
]
destination = "photos"
exclude = [
    "*.tmp",
    ".thumbnails",
    "*.pending",
]
# Mark removed files as hidden in B2 (default: true)
track_removals = true

[profiles.documents]
sources = ["/storage/emulated/0/Documents"]
destination = "documents"
exclude = ["*.bak", "~$*"]

[profiles.downloads]
sources = ["/storage/emulated/0/Download"]
destination = "downloads"
exclude = ["*.tmp", "*.part", "*.crdownload"]

# Schedules group profiles for batch execution
# Schedules can include a cron expression for automatic scheduling
# Format: minute hour day_of_month month day_of_week
# Example cron expressions:
#   "0 3 * * *"      - Daily at 3:00 AM
#   "0 */6 * * *"    - Every 6 hours
#   "30 2 * * 0"     - Every Sunday at 2:30 AM
#   "0 0 1 * *"      - First day of month at midnight

[schedules.daily]
# Run all profiles daily at 3 AM (automatically scheduled)
profiles = ["photos", "documents", "downloads"]
cron = "0 3 * * *"

[schedules.hourly]
# Run photos every 6 hours (automatically scheduled)
profiles = ["photos"]
cron = "0 */6 * * *"

[schedules.manual_backup]
# Manual schedule (no cron field) - only runs when explicitly called via:
# android-sync run manual_backup
profiles = ["photos", "documents", "downloads"]
